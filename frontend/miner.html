<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Blockchain Miner</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body class="light-theme">
    <div class="container">
        <div style="display: flex; gap: 15px; margin-bottom: 10px;">
            <a href="/" style="color:#3b82f6">â† Dashboard</a>
            <a href="/tampering" style="color:#3b82f6">ğŸ” Tampering Demo</a>
            <a href="/overview" style="color:#3b82f6">ğŸ“Š Overview</a>
        </div>
        
        <h1>â›ï¸ Blockchain Miner</h1>
        <p class="subtitle">Cáº¥u hÃ¬nh mining vÃ  Ä‘Ã o block</p>

        <!-- CONFIG -->
        <div class="card">
            <h2>4. Cáº¥u hÃ¬nh Mining</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <!-- Difficulty Box -->
                <div style="background: #f8fafc; padding: 16px; border-radius: 8px; border: 1px solid #cbd5e1;">
                    <h3 style="margin: 0 0 12px 0; font-size: 15px; color: #f59e0b;">âš™ï¸ Mining Difficulty</h3>
                    <div class="field" style="margin-bottom: 8px;">
                        <label style="font-size: 13px; color: #475569;">Äá»™ khÃ³ (1-10):</label>
                        <input id="difficulty" type="number" min="1" max="10" value="4" 
                               style="font-size: 16px; text-align: center; font-weight: bold;">
                    </div>
                    <small style="color: #64748b; font-size: 11px; display: block; margin-bottom: 12px;">
                        Sá»‘ lÆ°á»£ng sá»‘ 0 Ä‘áº§u tiÃªn trong hash. Cao hÆ¡n = khÃ³ hÆ¡n.
                    </small>
                    <button id="btnUpdateDifficulty" style="background: #f59e0b; width: 100%;">
                        Cáº­p nháº­t Difficulty
                    </button>
                    <div class="message" id="difficultyMsg"></div>
                </div>

                <!-- Reward Box -->
                <div style="background: #f8fafc; padding: 16px; border-radius: 8px; border: 1px solid #cbd5e1;">
                    <h3 style="margin: 0 0 12px 0; font-size: 15px; color: #10b981;">ğŸ’° Block Reward</h3>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <div style="flex: 1;">
                            <label style="font-size: 12px; color: #64748b;">Min:</label>
                            <input id="rewardMin" type="number" min="0" max="1000" value="1" 
                                   style="font-size: 16px; text-align: center; font-weight: bold;">
                        </div>
                        <div style="display: flex; align-items: center; padding-top: 20px;">
                            <span style="color: #475569; font-size: 18px;">â†’</span>
                        </div>
                        <div style="flex: 1;">
                            <label style="font-size: 12px; color: #64748b;">Max:</label>
                            <input id="rewardMax" type="number" min="0" max="1000" value="10" 
                                   style="font-size: 16px; text-align: center; font-weight: bold;">
                        </div>
                    </div>
                    <small style="color: #64748b; font-size: 11px; display: block; margin-bottom: 12px;">
                        Miner nháº­n random tá»« Min Ä‘áº¿n Max tokens.
                    </small>
                    <button id="btnUpdateReward" style="background: #10b981; width: 100%;">
                        Cáº­p nháº­t Reward
                    </button>
                    <div class="message" id="rewardMsg"></div>
                </div>
            </div>
        </div>

        <!-- MINING -->
        <div class="card">
            <h2>5. ÄÃ o block</h2>
            <div class="field">
                <label>Äá»‹a chá»‰ nháº­n reward (miner address):</label>
                <input id="minerAddress" type="text" placeholder="Nháº­p Ä‘á»‹a chá»‰ vÃ­ cá»§a báº¡n">
            </div>
            <button id="btnMine">â›ï¸ Mine Block</button>
            <div class="message" id="mineMsg"></div>
        </div>

        <!-- Mining Stats -->
        <div class="card">
            <h2>ğŸ“Š Thá»‘ng kÃª Mining</h2>
            <div id="miningStats">
                <p><b>Current Difficulty:</b> <span id="currentDifficulty">-</span></p>
                <p><b>Reward Range:</b> <span id="currentRewardRange">-</span></p>
                <p><b>Total Blocks:</b> <span id="totalBlocks">-</span></p>
                <p><b>Pending Transactions:</b> <span id="pendingTxs">-</span></p>
            </div>
            <button onclick="loadMiningStats()" style="background: #6366f1; margin-top: 12px;">
                ğŸ”„ LÃ m má»›i thá»‘ng kÃª
            </button>
        </div>

    </div>

    <script src="/static/miner.js"></script>
</body>
</html>
